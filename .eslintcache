[{"D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\index.js":"1","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\StateProvider.js":"2","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\App.js":"3","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\reportWebVitals.js":"4","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\reducer.js":"5","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\Chat.js":"6","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\Sidebar.js":"7","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\Login.js":"8","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\firebase.js":"9","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\SidebarChat.js":"10"},{"size":689,"mtime":1609943880108,"results":"11","hashOfConfig":"12"},{"size":393,"mtime":1609943880049,"results":"13","hashOfConfig":"12"},{"size":1164,"mtime":1609943879703,"results":"14","hashOfConfig":"12"},{"size":362,"mtime":1609943880145,"results":"15","hashOfConfig":"12"},{"size":415,"mtime":1609943880126,"results":"16","hashOfConfig":"12"},{"size":3705,"mtime":1609943879789,"results":"17","hashOfConfig":"12"},{"size":2073,"mtime":1609943879945,"results":"18","hashOfConfig":"12"},{"size":1122,"mtime":1609943879870,"results":"19","hashOfConfig":"12"},{"size":592,"mtime":1609944705358,"results":"20","hashOfConfig":"12"},{"size":1389,"mtime":1609943880024,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"10am3ly",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\index.js",[],["47","48"],"D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\StateProvider.js",[],"D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\App.js",["49","50"],"import React, { useState } from 'react';\nimport './App.css';\nimport Chat from './Chat';\nimport Sidebar from './Sidebar';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Login from './Login';\nimport { useStateValue } from './StateProvider';\n\nfunction App() {\n  // const [user, setuser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [{ user }, dispatch] = useStateValue();\n\n  return (\n    <div className=\"app\">\n      {!user ? (\n        <Login />\n      ) : (\n        <div className=\"app__body\">\n          {/* <h1>im header</h1> */}\n          <Router>\n            <Sidebar />\n            <Switch>\n              {/* show the chat wen roomid exists if not never show chat */}\n              {/* :roomid is to retrieve rooms id to pull messages */}\n              <Route path=\"/rooms/:roomId\">\n                <Chat messages={messages} />\n              </Route>\n              <Route path=\"/\">\n                {/* <h1>home screen</h1> */}\n                <Chat messages={messages} />\n              </Route>\n            </Switch>\n          </Router>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\reportWebVitals.js",[],"D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\reducer.js",[],"D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\Chat.js",["51"],"import React, { useState, useEffect } from 'react';\nimport './Chat.css';\nimport { Avatar, IconButton } from '@material-ui/core';\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\nimport AttachFile from '@material-ui/icons/AttachFile';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport InsertEmotiIcon from '@material-ui/icons/InsertEmoticon';\nimport MicIcon from '@material-ui/icons/Mic';\nimport { useParams } from 'react-router-dom';\nimport db from './firebase';\nimport firebase from 'firebase';\nimport { useStateValue } from './StateProvider';\nfunction Chat() {\n  // track of messages from sender at input\n  //    random avatar  for every room\n  // const [seed, setSeed] = useState(' ');\n  //   roomid for each room topull data using react-router-dom\n  const [input, setInput] = useState('');\n\n  const { roomId } = useParams();\n  const [roomName, setRoomName] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [{ user }, dispatch] = useStateValue();\n\n  //when clicked on any room in sidebar  it shows messages with that room\n  useEffect(() => {\n    if (roomId) {\n      db.collection('rooms')\n        .doc(roomId)\n        .onSnapshot((snapshot) => setRoomName(snapshot.data().name));\n\n      db.collection('rooms')\n        .doc(roomId)\n        .collection('messages')\n        .orderBy('timestamp', 'asc')\n        .onSnapshot((snapshot) =>\n          setMessages(snapshot.docs.map((doc) => doc.data()))\n        );\n    }\n  }, [roomId]);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    console.log('youtyped', input);\n    db.collection('rooms').doc(roomId).collection('messages').add({\n      message: input,\n      name: user.displayName,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n    setInput('');\n  };\n\n  // creating random avatars using seed state\n  return (\n    <div className=\"chat\">\n      <div className=\"chat__header\">\n        <Avatar\n          src={`https://avatars.dicebear.com/api/human/${Math.floor(\n            Math.random() * 5000\n          )}.svg`}\n        />\n        <div className=\"chat__headerInfo\">\n          <h3>{roomName}</h3>\n          <p>\n            Last Seen at{'  '}\n            {new Date(\n              messages[messages.length - 1]?.timestamp?.toDate()\n            ).toUTCString()}\n          </p>\n        </div>\n        <div className=\"chat__headerRight\">\n          <IconButton>\n            <SearchOutlined />\n          </IconButton>\n          <IconButton>\n            <AttachFile />\n          </IconButton>\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"chat__body\">\n        {messages.map((message) => (\n          <p\n            className={`chat__message ${\n              message.name === user.displayName && 'chat__receiver'\n            }`}\n          >\n            <span className=\"chat__name\">{message.name}</span>\n            {message.message}\n            <span className=\"chat__timestamp\">\n              {new Date(\n                messages[messages.length - 1]?.timestamp?.toDate()\n              ).toUTCString()}\n            </span>\n          </p>\n        ))}\n        {/* true=if display.name===message.name  then change the bg-color to green*/}\n      </div>\n      <div className=\"chat__footer\">\n        <InsertEmotiIcon />\n        <form>\n          <input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder=\"Type a message\"\n            type=\"text\"\n          />\n          <button onClick={sendMessage} type=\"submit\">\n            Send a message\n          </button>\n        </form>\n        <MicIcon />\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;\n","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\Sidebar.js",["52"],"import React, { useState, useEffect } from 'react';\nimport './Sidebar.css';\nimport { Avatar, IconButton } from '@material-ui/core';\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreVerticon from '@material-ui/icons/MoreVert';\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport SidebarChat from './SidebarChat';\nimport db from './firebase';\nimport { useStateValue } from './StateProvider';\n\nfunction Sidebar() {\n  const [rooms, setRooms] = useState([]);\n  const [{ user }, dispatch] = useStateValue();\n  //   run the sidebar chat once when component loads and once only\n  useEffect(() => {\n    //   any change i(creation,deletion)in collection of firebase it takes snapshot and sehow value of room\n    // keeps on updating with chnages of rooms(new chat )\n    const unsubscribe = db.collection('rooms').onSnapshot((snapshot) => {\n      setRooms(\n        snapshot.docs.map((doc) => ({\n          id: doc.id,\n          data: doc.data(),\n        }))\n      );\n    });\n    // cleanup function part\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar__header\">\n        <Avatar src={user?.photoURL} />\n        {/* <p>{user.name}</p> */}\n        <div className=\"sidebar__headerRight\">\n          <IconButton>\n            <DonutLargeIcon />\n          </IconButton>\n          <IconButton>\n            <ChatIcon />\n          </IconButton>\n          <IconButton>\n            <MoreVerticon />\n          </IconButton>\n        </div>\n      </div>\n\n      <div className=\"sidebar__search\">\n        <div className=\"sidebar__searchContainer\">\n          <SearchOutlinedIcon />\n          <input placeholder=\"Search or start new chat\" type=\"text\" />\n        </div>\n      </div>\n\n      <div className=\"sidebar__chats\">\n        <SidebarChat addNewChat />\n        {rooms.map((room) => (\n          <SidebarChat key={room.id} id={room.id} name={room.data.name} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\Login.js",["53"],"import React from 'react';\nimport './Login.css';\nimport { Button } from '@material-ui/core';\nimport { auth, provider } from './firebase';\nimport { useStateValue } from './StateProvider';\nimport { actionTypes } from './reducer';\n\nfunction Login() {\n  const [{}, dispatch] = useStateValue();\n  const signIn = () => {\n    auth\n      .signInWithPopup(provider)\n      .then((result) => {\n        dispatch({\n          type: actionTypes.SET_USER,\n          user: result.user,\n        });\n      })\n      .catch((error) => alert(error.message));\n  };\n  return (\n    <div className=\"login\">\n      <div className=\"login__container\">\n        {/* <img\n          src=\"https://seeklogo.com/images/W/whatsapp-logo-DDC3F9A34F-seeklogo.com.png\"\n          alt=\"\"\n        /> */}\n        <img\n          src=\"https://www.freeiconspng.com/thumbs/logo-whatsapp-png/logo-whatsapp-transparent-background-22.png\"\n          alt=\"\"\n        />\n        <div className=\"login__text\">\n          <h1>Sign in to Whatsapp</h1>\n        </div>\n        <Button onClick={signIn}>Sign In With Google</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\firebase.js",[],"D:\\praveenorugantitech\\projects\\Git\\praveenorugantitech-reactjs\\0_Projects\\praveenoruganti-whatsapp\\src\\SidebarChat.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":11,"column":20,"nodeType":"60","messageId":"61","endLine":11,"endColumn":31},{"ruleId":"58","severity":1,"message":"62","line":12,"column":20,"nodeType":"60","messageId":"61","endLine":12,"endColumn":28},{"ruleId":"58","severity":1,"message":"62","line":23,"column":20,"nodeType":"60","messageId":"61","endLine":23,"endColumn":28},{"ruleId":"58","severity":1,"message":"62","line":14,"column":20,"nodeType":"60","messageId":"61","endLine":14,"endColumn":28},{"ruleId":"63","severity":1,"message":"64","line":9,"column":10,"nodeType":"65","messageId":"66","endLine":9,"endColumn":12},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'setMessages' is assigned a value but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-global-assign","no-unsafe-negation"]